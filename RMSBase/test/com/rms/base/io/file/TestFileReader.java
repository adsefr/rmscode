package com.rms.base.io.file;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;

import org.junit.Test;

import com.rms.base.constant.Encodes;
import com.rms.base.logging.Logger;
import com.rms.base.util.TextUtil;

public class TestFileReader {

	Logger log = Logger.getLogger();

	@Test
	public void read() throws IOException {

		String targetFile = "D:/TEMP/無題.txt";

		InputStream is = new FileInputStream(targetFile);
		BufferedReader reader = new BufferedReader(new InputStreamReader(is, Encodes.CHARSET_SJIS));

		StringBuilder sb = new StringBuilder();
		String str1 = "100011001101100100110101111111111111101110011101100001100111011110110100000100000100010100011010100101001111100110110000010101001001111101001010001001000101101001010001011011010110100100011100111110100100010101101111111110110000111001001000110001100001100000100000100000101010101110101010110110101100001101010111000010101001110000111010111100001100000010000010000010000010001001110101011100110110011011111100111111001110111001101001000111001000101000111100110001101110011100111110100110000111001111101001110111011001111011100110001111011111101101110110111001011110010110001111001011100101100011011100110110011011111100111110110101000001000001000001000001010001100001011010111000011010110110000110101011100001010100111000011101011110000110000001100001000001011010010001110011111010010001010100111011010100000100000100000100000101000100000101111000110110010010011111001011000011110110110101011110111000000111111001011000011110110110101011111000010010010101001100111010101001000100101110000010101111100000110101011000001000100101001110110101000001000001000001000001010001100101100001111011011010101111100001011001111000011111100110000110010011100001011101111000011000011110000110010001100000110111010000001111010101010010110101011010010001001001010010001001011010011101101010000010000010000010000010100010011100000000010000001111101001100000101011111000001011111100010000100110011000010010010101000111111010101001010011011101001";
		String str2 = "110100100011100111110100100010110011101100001100111011110110100000100000100010100011010100101001111100110110000010101001001111101001010001001000101101001010001011011010110100100011100111110100100010101101111111110110000111001001000110001100001100000100000100000101010101110101010110110101100001101010111000010101001110000111010111100001100000010000010000010000010001001110101011100110110011011111100111111001110111001101001000111001000101000111100110001101110011100111110100110000111001111101001110111011001111011100110001111011111101101110110111001011110010110001111001011100101100011011100110110011011111100111110110101000001000001000001000001010001100001011010111000011010110110000110101011100001010100111000011101011110000110000001100001000001011010010001110011111010010001010100111011010100000100000100000100000101000100000101111000110110010010011111001011000011110110110101011110111000000111111001011000011110110110101011111000010010010101001100111010101001000100101110000010101111100000110101011000001000100101001110110101000001000001000001000001010001100101100001111011011010101111100001011001111000011111100110000110010011100001011101111000011000011110000110010001100000110111010000001111010101010010110101011010010001001001010010001001011010011101101010000010000010000010000010100010011100000000010000001111101001100000101011111000001011111100010000100110011000010010010101000111111010101001010011011101001";

		while (true) {
			int i = is.read();
			if (i != -1) {
				log.debug(String.valueOf(i) + " " + TextUtil.lPad(Integer.toBinaryString(i), 8, "0"));
				sb.append(TextUtil.lPad(Integer.toBinaryString(i), 8, "0"));
				// log.debug(String.valueOf((char) i));
			}

			// int j = reader.read();
			// if (j != -1) {
			// log.debug(String.valueOf(j) + " " +
			// TextUtil.lPad(Integer.toBinaryString(j), 8, "0"));
			// sb.append(TextUtil.lPad(Integer.toBinaryString(j), 8, "0"));
			// }
			// String line = reader.readLine();
			// if (line != null) {
			// sb.append(line);
			// log.debug(line);
			// }
			log.debug(sb.toString());
			// log.debug(new String(sb.toString().getBytes()));
		}
	}
}
